{
  "entityType" : "DASHBOARD",
  "entity" : {
    "title" : "Device Detail View",
    "image" : "tb-image;/api/images/tenant/REGE-logo-48px.png",
    "mobileHide" : true,
    "mobileOrder" : null,
    "configuration" : {
      "description" : "Device Detail View",
      "widgets" : {
        "df13f681-83af-9bdb-d282-2ae1f18f9b30" : {
          "typeFullFqn" : "system.cards.value_card",
          "type" : "latest",
          "sizeX" : 3,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "40125ddf-8188-eb4c-afe4-281a39153f9c",
              "dataKeys" : [ {
                "name" : "Temp1",
                "type" : "timeseries",
                "label" : "Temp1",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.08700198230612144
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideQuickInterval" : false
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1750352554095,
                  "endTimeMs" : 1750438954095
                },
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideFixedInterval" : false,
                "hideQuickInterval" : false
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgba(0, 0, 0, 0)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "labelPosition" : "top",
              "layout" : "centered",
              "showLabel" : true,
              "labelFont" : {
                "family" : "Roboto",
                "size" : 16,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "500"
              },
              "labelColor" : {
                "type" : "constant",
                "color" : "rgba(0, 0, 0, 0.87)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "showIcon" : true,
              "iconSize" : 40,
              "iconSizeUnit" : "px",
              "icon" : "thermostat",
              "iconColor" : {
                "type" : "constant",
                "color" : "#F44336",
                "gradient" : {
                  "advancedMode" : false,
                  "gradient" : [ "rgba(0, 255, 0, 1)", "rgba(255, 0, 0, 1)" ],
                  "gradientAdvanced" : [ {
                    "source" : {
                      "type" : "constant"
                    },
                    "color" : "rgba(0, 255, 0, 1)"
                  }, {
                    "source" : {
                      "type" : "constant"
                    },
                    "color" : "rgba(255, 0, 0, 1)"
                  } ],
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "rangeList" : {
                  "advancedMode" : false,
                  "range" : [ ],
                  "rangeAdvanced" : [ ]
                },
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "valueFont" : {
                "family" : "Roboto",
                "size" : 52,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "500"
              },
              "valueColor" : {
                "type" : "constant",
                "color" : "rgba(0, 0, 0, 0.87)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "showDate" : true,
              "dateFormat" : {
                "format" : null,
                "lastUpdateAgo" : true,
                "custom" : false
              },
              "dateFont" : {
                "family" : "Roboto",
                "size" : 12,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "500"
              },
              "dateColor" : {
                "type" : "constant",
                "color" : "rgba(0, 0, 0, 0.38)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "background" : {
                "type" : "color",
                "color" : "#fff",
                "overlay" : {
                  "enabled" : false,
                  "color" : "rgba(255,255,255,0.72)",
                  "blur" : 3
                }
              },
              "autoScale" : false,
              "padding" : ""
            },
            "title" : "Value card",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "units" : "Â°C",
            "decimals" : 2,
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : {
              "headerButton" : [ ]
            },
            "configMode" : "basic",
            "displayTimewindow" : true,
            "margin" : "0px",
            "borderRadius" : "0px",
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "enableDataExport" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "titleFont" : {
              "size" : 12,
              "sizeUnit" : "px",
              "family" : null,
              "weight" : null,
              "style" : null,
              "lineHeight" : "1.6"
            },
            "titleIcon" : "",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "14px",
            "timewindowStyle" : {
              "showIcon" : true,
              "iconSize" : "14px",
              "icon" : "query_builder",
              "iconPosition" : "left",
              "font" : {
                "size" : 12,
                "sizeUnit" : "px",
                "family" : null,
                "weight" : null,
                "style" : null,
                "lineHeight" : "1"
              },
              "color" : null
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "df13f681-83af-9bdb-d282-2ae1f18f9b30"
        },
        "5ba834fa-bf73-6a53-e5bf-9e2d807032ee" : {
          "typeFullFqn" : "system.cards.value_card",
          "type" : "latest",
          "sizeX" : 3,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "40125ddf-8188-eb4c-afe4-281a39153f9c",
              "dataKeys" : [ {
                "name" : "Temp2",
                "type" : "timeseries",
                "label" : "Temp2",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.8536546789269027
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideQuickInterval" : false
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1750352554095,
                  "endTimeMs" : 1750438954095
                },
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideFixedInterval" : false,
                "hideQuickInterval" : false
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "rgba(0, 0, 0, 0)",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "labelPosition" : "top",
              "layout" : "centered",
              "showLabel" : true,
              "labelFont" : {
                "family" : "Roboto",
                "size" : 16,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "500"
              },
              "labelColor" : {
                "type" : "constant",
                "color" : "rgba(0, 0, 0, 0.87)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "showIcon" : true,
              "iconSize" : 40,
              "iconSizeUnit" : "px",
              "icon" : "thermostat",
              "iconColor" : {
                "type" : "constant",
                "color" : "#F44336",
                "gradient" : {
                  "advancedMode" : false,
                  "gradient" : [ "rgba(0, 255, 0, 1)", "rgba(255, 0, 0, 1)" ],
                  "gradientAdvanced" : [ {
                    "source" : {
                      "type" : "constant"
                    },
                    "color" : "rgba(0, 255, 0, 1)"
                  }, {
                    "source" : {
                      "type" : "constant"
                    },
                    "color" : "rgba(255, 0, 0, 1)"
                  } ],
                  "minValue" : 0,
                  "maxValue" : 100
                },
                "rangeList" : {
                  "advancedMode" : false,
                  "range" : [ ],
                  "rangeAdvanced" : [ ]
                },
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "valueFont" : {
                "family" : "Roboto",
                "size" : 52,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "500"
              },
              "valueColor" : {
                "type" : "constant",
                "color" : "rgba(0, 0, 0, 0.87)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "showDate" : true,
              "dateFormat" : {
                "format" : null,
                "lastUpdateAgo" : true,
                "custom" : false
              },
              "dateFont" : {
                "family" : "Roboto",
                "size" : 12,
                "sizeUnit" : "px",
                "style" : "normal",
                "weight" : "500"
              },
              "dateColor" : {
                "type" : "constant",
                "color" : "rgba(0, 0, 0, 0.38)",
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "background" : {
                "type" : "color",
                "color" : "#fff",
                "overlay" : {
                  "enabled" : false,
                  "color" : "rgba(255,255,255,0.72)",
                  "blur" : 3
                }
              },
              "autoScale" : false,
              "padding" : ""
            },
            "title" : "Value card",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "units" : "Â°C",
            "decimals" : 2,
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "widgetStyle" : { },
            "actions" : {
              "headerButton" : [ ]
            },
            "configMode" : "basic",
            "displayTimewindow" : true,
            "margin" : "0px",
            "borderRadius" : "0px",
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "enableDataExport" : false,
            "showTitleIcon" : false,
            "titleTooltip" : "",
            "titleFont" : {
              "size" : 12,
              "sizeUnit" : "px",
              "family" : null,
              "weight" : null,
              "style" : null,
              "lineHeight" : "1.6"
            },
            "titleIcon" : "",
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "14px",
            "timewindowStyle" : {
              "showIcon" : true,
              "iconSize" : "14px",
              "icon" : "query_builder",
              "iconPosition" : "left",
              "font" : {
                "size" : 12,
                "sizeUnit" : "px",
                "family" : null,
                "weight" : null,
                "style" : null,
                "lineHeight" : "1"
              },
              "color" : null
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "5ba834fa-bf73-6a53-e5bf-9e2d807032ee"
        },
        "1448aa61-6ec9-3ea8-fd74-ae5900bcede2" : {
          "typeFullFqn" : "system.action_button",
          "type" : "latest",
          "sizeX" : 3,
          "sizeY" : 1,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "entityAliasId" : "40125ddf-8188-eb4c-afe4-281a39153f9c",
              "dataKeys" : [ ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideQuickInterval" : false
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1750354128239,
                  "endTimeMs" : 1750440528239
                },
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideFixedInterval" : false,
                "hideQuickInterval" : false
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#FFFFFF01",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "activatedState" : {
                "action" : "DO_NOTHING",
                "defaultValue" : false,
                "getAttribute" : {
                  "key" : "state",
                  "scope" : null
                },
                "getTimeSeries" : {
                  "key" : "state"
                },
                "getAlarmStatus" : {
                  "severityList" : null,
                  "typeList" : null
                },
                "dataToValue" : {
                  "type" : "NONE",
                  "compareToValue" : true,
                  "dataToValueFunction" : "/* Should return boolean value */\nreturn data;"
                }
              },
              "disabledState" : {
                "action" : "DO_NOTHING",
                "defaultValue" : false,
                "getAttribute" : {
                  "key" : "state",
                  "scope" : null
                },
                "getTimeSeries" : {
                  "key" : "state"
                },
                "getAlarmStatus" : {
                  "severityList" : null,
                  "typeList" : null
                },
                "dataToValue" : {
                  "type" : "NONE",
                  "compareToValue" : true,
                  "dataToValueFunction" : "/* Should return boolean value */\nreturn data;"
                }
              },
              "appearance" : {
                "type" : "filled",
                "showLabel" : true,
                "label" : "History",
                "showIcon" : true,
                "icon" : "open_in_new",
                "iconSize" : 24,
                "iconSizeUnit" : "px",
                "mainColor" : "#F44336",
                "backgroundColor" : "#FFFFFF",
                "autoScale" : true,
                "customStyle" : {
                  "enabled" : null,
                  "hovered" : null,
                  "pressed" : null,
                  "activated" : null,
                  "disabled" : null
                }
              }
            },
            "title" : "Action button",
            "showTitleIcon" : false,
            "iconColor" : "rgba(0, 0, 0, 0.87)",
            "iconSize" : "24px",
            "titleTooltip" : "",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "enableDataExport" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "showLegend" : false,
            "useDashboardTimewindow" : true,
            "displayTimewindow" : true,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : "",
            "borderRadius" : "4px",
            "configMode" : "advanced",
            "actions" : {
              "click" : [ {
                "id" : "3358ea19-ac3c-2e98-c19a-079fde270c0e",
                "name" : "onClick",
                "icon" : "more_horiz",
                "type" : "openDashboard",
                "targetDashboardStateId" : "",
                "openRightLayout" : false,
                "setEntityId" : true,
                "stateEntityParamName" : "entityId",
                "openNewBrowserTab" : false,
                "targetDashboardId" : "8b926cf0-4df9-11f0-9e49-05adc209a747",
                "openInSeparateDialog" : false,
                "openInPopover" : false
              } ]
            }
          },
          "row" : 0,
          "col" : 0,
          "id" : "1448aa61-6ec9-3ea8-fd74-ae5900bcede2"
        },
        "da9c1136-2350-9eb5-6ebb-0f9a74f97937" : {
          "typeFullFqn" : "system.cards.html_value_card",
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "40125ddf-8188-eb4c-afe4-281a39153f9c",
              "dataKeys" : [ {
                "name" : "total_uptime_start",
                "type" : "attribute",
                "label" : "total_uptime_start",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.14312571324279377
              }, {
                "name" : "initial_compressor_time",
                "type" : "attribute",
                "label" : "initial_compressor_time",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.6419808703907445
              }, {
                "name" : "total_compressor_time",
                "type" : "attribute",
                "label" : "total_compressor_time",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.18489269273447861
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideQuickInterval" : false
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1752675495335,
                  "endTimeMs" : 1752761895335
                },
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideFixedInterval" : false,
                "hideQuickInterval" : false
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div class='card'>\n    <div class='content'>\n        <h1 class='main-title'>Compressor Statistics</h1>\n        \n        <div class='stats-container'>\n            \n            <div class='stat-box compressor-box'>\n                <h3 class='stat-title compressor-title'>Compressor Time</h3>\n                <div class='stat-value' id='compressor'></div>\n            </div>\n            \n            <div class='stat-box usage-box'>\n                <h3 class='stat-title usage-title'>Compressor Usage %</h3>\n                <div class='stat-value' id='usage'></div>\n            </div>\n            \n        </div>\n    </div>\n</div>\n\n<script>\nfunction formatTime(totalMs) {\n    var hours = Math.floor(totalMs / 3600000);\n    var minutes = Math.floor((totalMs % 3600000) / 60000);\n    var seconds = Math.floor((totalMs % 60000) / 1000);\n    \n    var hoursStr = hours.toString().padStart(2, '0');\n    var minutesStr = minutes.toString().padStart(2, '0');\n    var secondsStr = seconds.toString().padStart(2, '0');\n    \n    if (hours > 0) {\n        return hoursStr + \"h \" + minutesStr + \"m \" + secondsStr + \"s\";\n    } else if (minutes > 0) {\n        return minutesStr + \"m \" + secondsStr + \"s\";\n    } else {\n        return secondsStr + \"s\";\n    }\n}\n\nvar now = Date.now();\nvar uptimeStart = parseInt('${total_uptime_start}') || 0;\nvar compressorTime = parseInt('${total_compressor_time}') || 0;\nvar initialCompressorTime = parseInt('${initial_compressor_time}') || 0;\n\nvar totalUptime = now - uptimeStart;\nvar displayCompressorTime = compressorTime + initialCompressorTime;\nvar compressorFormatted = formatTime(displayCompressorTime);\nvar usagePercent = totalUptime > 0 ? (compressorTime / totalUptime * 100).toFixed(1) : \"0.0\";\n\ndocument.getElementById('compressor').innerHTML = compressorFormatted;\ndocument.getElementById('usage').innerHTML = usagePercent + '%';\n</script>",
              "cardCss" : ".card {\n    width: 100%;\n    height: 100%;\n    background: white;\n    border-radius: 8px;\n    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);\n    border: 1px solid #d1d5db;\n}\n\n.card .content {\n    padding: 24px;\n    height: 100%;\n    box-sizing: border-box;\n}\n\n.stats-container {\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));\n    gap: 16px;\n    margin-top: 20px;\n}\n\n.stat-box {\n    background: #ffffff;\n    border-radius: 6px;\n    padding: 20px 16px;\n    border: 1px solid #e5e7eb;\n    text-align: center;\n}\n\n.stat-title {\n    font-size: 13px;\n    font-weight: 500;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    margin: 0 0 12px 0;\n    color: #6b7280;\n}\n\n.stat-value {\n    font-size: 24px;\n    font-weight: 600;\n    margin: 0;\n    color: #111827;\n}\n\n.main-title {\n    color: #111827;\n    font-size: 20px;\n    font-weight: 600;\n    margin: 0;\n    text-align: center;\n}\n\n.compressor-box { \n    border-left: 3px solid #27ae60; \n}\n\n.usage-box { \n    border-left: 3px solid #dc2626; \n}\n\n.compressor-title { \n    color: #27ae60; \n}\n\n.usage-title { \n    color: #dc2626; \n}"
            },
            "title" : "HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "headerButton" : [ {
                "name" : "EDIT",
                "buttonType" : "raised",
                "showIcon" : true,
                "icon" : "more_horiz",
                "buttonColor" : "#ffffff",
                "buttonFillColor" : "#FF0000",
                "useShowWidgetActionFunction" : null,
                "showWidgetActionFunction" : "return true;",
                "type" : "customPretty",
                "customHtml" : "<form #compressorForm=\"ngForm\" [formGroup]=\"compressorFormGroup\" (ngSubmit)=\"save()\" class=\"compressor-form\">\n    <mat-toolbar color=\"primary\">\n        <h2>Compressor Time Management</h2>\n        <span class=\"flex-1\"></span>\n        <button mat-icon-button (click)=\"cancel()\" type=\"button\">\n            <mat-icon>close</mat-icon>\n        </button>\n    </mat-toolbar>\n    \n    <div mat-dialog-content>\n        <mat-form-field class=\"mat-block\">\n            <mat-label>Action</mat-label>\n            <mat-select formControlName=\"action\">\n                <mat-option *ngFor=\"let option of actionOptions\" [value]=\"option.value\">\n                    {{ option.label }}\n                </mat-option>\n            </mat-select>\n        </mat-form-field>\n        \n        <div *ngIf=\"compressorFormGroup.get('action').value === 'reset'\" class=\"warning-box\">\n            <div>\n                <strong>Warning:</strong> This will reset ALL compressor data to zero and restart timing.\n                <br><small>This action cannot be undone.</small>\n            </div>\n        </div>\n        \n        <div *ngIf=\"compressorFormGroup.get('action').value === 'modify'\">\n            <div class=\"time-inputs\">\n                <div class=\"time-field\">\n                    <mat-form-field>\n                        <mat-label>Hours</mat-label>\n                        <input type=\"number\" matInput formControlName=\"hours\" min=\"0\" max=\"8760\">\n                        <mat-error *ngIf=\"compressorFormGroup.get('hours').hasError('min')\">Cannot be negative</mat-error>\n                        <mat-error *ngIf=\"compressorFormGroup.get('hours').hasError('max')\">Max 8760 hours</mat-error>\n                    </mat-form-field>\n                    <span class=\"time-label\">h</span>\n                </div>\n                \n                <div class=\"time-field\">\n                    <mat-form-field>\n                        <mat-label>Minutes</mat-label>\n                        <input type=\"number\" matInput formControlName=\"minutes\" min=\"0\" max=\"59\">\n                        <mat-error *ngIf=\"compressorFormGroup.get('minutes').hasError('min')\">Cannot be negative</mat-error>\n                        <mat-error *ngIf=\"compressorFormGroup.get('minutes').hasError('max')\">Max 59 minutes</mat-error>\n                    </mat-form-field>\n                    <span class=\"time-label\">m</span>\n                </div>\n                \n                <div class=\"time-field\">\n                    <mat-form-field>\n                        <mat-label>Seconds</mat-label>\n                        <input type=\"number\" matInput formControlName=\"seconds\" min=\"0\" max=\"59\">\n                        <mat-error *ngIf=\"compressorFormGroup.get('seconds').hasError('min')\">Cannot be negative</mat-error>\n                        <mat-error *ngIf=\"compressorFormGroup.get('seconds').hasError('max')\">Max 59 seconds</mat-error>\n                    </mat-form-field>\n                    <span class=\"time-label\">s</span>\n                </div>\n            </div>\n            \n            <div class=\"info-box\">\n                <strong>Note:</strong> This adds buffer time to the display without affecting real-time calculations.\n            </div>\n        </div>\n    </div>\n    \n    <div mat-dialog-actions>\n        <button mat-button type=\"button\" (click)=\"cancel()\">Cancel</button>\n        <button mat-raised-button \n                [color]=\"compressorFormGroup.get('action').value === 'reset' ? 'warn' : 'primary'\"\n                type=\"submit\" \n                [disabled]=\"compressorForm.invalid\">\n            {{ compressorFormGroup.get('action').value === 'reset' ? 'Reset All' : 'Update Time' }}\n        </button>\n    </div>\n</form>",
                "customCss" : ".compressor-form {\n    min-width: 400px;\n    max-width: 500px;\n}\n\n.compressor-form mat-dialog-content {\n    padding: 24px;\n}\n\n.compressor-form mat-dialog-actions {\n    padding: 16px 24px;\n    display: flex;\n    justify-content: flex-end;\n    align-items: center;\n    gap: 16px;\n}\n\n.compressor-form mat-dialog-actions button:first-child {\n    margin-right: auto;\n}\n\n.mat-block {\n    width: 100%;\n}\n\n.flex-1 {\n    flex: 1;\n}\n\n.time-inputs {\n    display: flex;\n    gap: 12px;\n    align-items: flex-start;\n    margin: 16px 0;\n}\n\n.time-field {\n    display: flex;\n    align-items: center;\n    gap: 4px;\n    flex: 1;\n}\n\n.time-field mat-form-field {\n    flex: 1;\n    min-width: 0;\n}\n\n.time-label {\n    font-weight: 500;\n    color: #666;\n    font-size: 14px;\n    margin-top: 8px;\n    min-width: 12px;\n}\n\n.warning-box {\n    background: #fff3cd;\n    border: 1px solid #ffeaa7;\n    border-radius: 4px;\n    padding: 16px;\n    margin: 16px 0;\n    display: flex;\n    align-items: flex-start;\n    gap: 12px;\n}\n\n.warning-box mat-icon {\n    color: #856404;\n    margin-top: 2px;\n}\n\n.info-box {\n    background: #e8f4fd;\n    border: 1px solid #bee5eb;\n    border-radius: 4px;\n    padding: 12px;\n    margin-top: 16px;\n    font-size: 14px;\n    color: #0c5460;\n}\n\n@media (max-width: 480px) {\n    .compressor-form {\n        min-width: 320px;\n    }\n    \n    .time-inputs {\n        flex-direction: column;\n        gap: 8px;\n    }\n    \n    .time-field {\n        width: 100%;\n    }\n    \n    .compressor-form mat-dialog-actions {\n        flex-direction: column;\n        gap: 8px;\n    }\n    \n    .compressor-form mat-dialog-actions button {\n        width: 100%;\n    }\n}",
                "customFunction" : "const $injector = widgetContext.$scope.$injector;\nconst customDialog = $injector.get(widgetContext.servicesMap.get('customDialog'));\n\nfunction createAlertModal(title, message) {\n    return `\n        <div>\n            <mat-toolbar color=\"primary\">\n                <h2>${title}</h2>\n                <span class=\"flex-1\"></span>\n                <button mat-icon-button (click)=\"close()\" type=\"button\">\n                    <mat-icon>close</mat-icon>\n                </button>\n            </mat-toolbar>\n            <div mat-dialog-content style=\"padding: 24px; text-align: center;\">\n                <div style=\"font-size: 16px; color: #333;\">${message}</div>\n            </div>\n            <div mat-dialog-actions style=\"padding: 16px 24px; justify-content: flex-end;\">\n                <button mat-raised-button color=\"primary\" (click)=\"close()\">OK</button>\n            </div>\n        </div>\n    `;\n}\n\nfunction AlertController(instance) {\n    const vm = instance;\n    vm.close = () => vm.dialogRef.close(null);\n}\n\nfunction showCustomAlert(title, message) {\n    customDialog.customDialog(createAlertModal(title, message), AlertController).subscribe();\n}\n\nfunction CompressorTimeDialogController(instance) {\n    const vm = instance;\n    \n    vm.compressorFormGroup = vm.fb.group({\n        action: ['modify'],\n        hours: [0, [vm.validators.min(0), vm.validators.max(8760)]],\n        minutes: [0, [vm.validators.min(0), vm.validators.max(59)]],\n        seconds: [0, [vm.validators.min(0), vm.validators.max(59)]]\n    });\n    \n    vm.actionOptions = [\n        { value: 'modify', label: 'Modify Initial Compressor Time' },\n        { value: 'reset', label: 'Reset All Times to Zero' }\n    ];\n    \n    vm.cancel = () => vm.dialogRef.close(null);\n    \n    vm.save = () => {\n        if (!vm.compressorFormGroup.valid) return;\n        \n        const formValues = vm.compressorFormGroup.value;\n        formValues.action === 'reset' ? resetAllTimes() : modifyInitialTime(formValues);\n    };\n    \n    function resetAllTimes() {\n        const attributes = [\n            { key: \"total_uptime_start\", value: Date.now().toString() },\n            { key: \"total_compressor_time\", value: \"0\" },\n            { key: \"initial_compressor_time\", value: \"0\" },\n            { key: \"session_start_time\", value: \"0\" },\n            { key: \"previous_state\", value: \"0\" },\n            { key: \"last_update_time\", value: \"0\" }\n        ];\n        saveAttributes(attributes, 'All times reset successfully!');\n    }\n    \n    function modifyInitialTime(formValues) {\n        const totalMs = (formValues.hours * 3600000) + \n                       (formValues.minutes * 60000) + \n                       (formValues.seconds * 1000);\n        const attributes = [{ key: \"initial_compressor_time\", value: totalMs.toString() }];\n        saveAttributes(attributes, 'Initial compressor time updated!');\n    }\n    \n    function saveAttributes(attributes, successMessage) {\n        widgetContext.attributeService.saveEntityAttributes(entityId, 'SHARED_SCOPE', attributes)\n            .subscribe({\n                next: () => {\n                    vm.dialogRef.close(null);\n                    showCustomAlert('Success', successMessage);\n                },\n                error: () => {\n                    showCustomAlert('Error', 'Operation failed');\n                }\n            });\n    }\n}\n\nfunction openCompressorTimeDialog() {\n    customDialog.customDialog(htmlTemplate, CompressorTimeDialogController).subscribe();\n}\n\nopenCompressorTimeDialog();",
                "customResources" : [ ],
                "openInSeparateDialog" : false,
                "openInPopover" : false,
                "id" : "57c05a60-07b7-c763-995d-0d1add9ed819"
              } ]
            },
            "displayTimewindow" : true,
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "da9c1136-2350-9eb5-6ebb-0f9a74f97937"
        },
        "7c443b70-383d-fd1a-c90d-0edbcac88472" : {
          "typeFullFqn" : "system.digital_gauges.simple_gauge_justgage",
          "type" : "latest",
          "sizeX" : 2,
          "sizeY" : 2,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "40125ddf-8188-eb4c-afe4-281a39153f9c",
              "dataKeys" : [ {
                "name" : "dig1",
                "type" : "timeseries",
                "label" : "dig1",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.5138880461649568
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideQuickInterval" : false
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1748969318076,
                  "endTimeMs" : 1749055718076
                },
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideFixedInterval" : false,
                "hideQuickInterval" : false
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#FFFFFF",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "maxValue" : 1,
              "minValue" : 0,
              "donutStartAngle" : 90,
              "showValue" : false,
              "showMinMax" : true,
              "gaugeWidthScale" : 0.75,
              "levelColors" : [ "rgb(255, 0, 0)", "rgb(86, 255, 0)" ],
              "refreshAnimationType" : ">",
              "refreshAnimationTime" : 700,
              "startAnimationType" : ">",
              "startAnimationTime" : 700,
              "titleFont" : {
                "family" : "Roboto",
                "size" : 12,
                "style" : "normal",
                "weight" : "500",
                "color" : "#000000"
              },
              "labelFont" : {
                "family" : "Roboto",
                "size" : 8,
                "style" : "normal",
                "weight" : "500"
              },
              "valueFont" : {
                "family" : "Roboto",
                "style" : "normal",
                "weight" : "500",
                "size" : 32,
                "color" : "#000000"
              },
              "minMaxFont" : {
                "family" : "Segment7Standard",
                "size" : 12,
                "style" : "normal",
                "weight" : "500",
                "color" : null
              },
              "neonGlowBrightness" : 0,
              "dashThickness" : 0,
              "decimals" : 0,
              "gaugeColor" : "#FF0000",
              "gaugeType" : "arc",
              "showTitle" : true,
              "title" : "Digital Input 1",
              "barColor" : {
                "type" : "gradient",
                "color" : "#2196f3",
                "gradient" : {
                  "advancedMode" : false,
                  "gradient" : [ "rgb(255, 0, 0)", "rgb(86, 255, 0)" ],
                  "gradientAdvanced" : [ {
                    "source" : {
                      "type" : "constant"
                    },
                    "color" : "rgba(0, 255, 0, 1)"
                  }, {
                    "source" : {
                      "type" : "constant"
                    },
                    "color" : "rgba(255, 0, 0, 1)"
                  } ],
                  "minValue" : 0,
                  "maxValue" : 1
                },
                "rangeList" : {
                  "advancedMode" : false,
                  "range" : [ ],
                  "rangeAdvanced" : [ ]
                },
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "useFixedLevelColor" : false
            },
            "title" : "Simple gauge",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "configMode" : "basic",
            "useDashboardTimewindow" : true,
            "displayTimewindow" : true,
            "actions" : { },
            "enableDataExport" : false,
            "borderRadius" : null,
            "units" : "",
            "decimals" : null
          },
          "row" : 0,
          "col" : 0,
          "id" : "7c443b70-383d-fd1a-c90d-0edbcac88472"
        },
        "668dc47b-81a7-b3d7-9334-5eb5ad5046bb" : {
          "typeFullFqn" : "system.digital_gauges.simple_gauge_justgage",
          "type" : "latest",
          "sizeX" : 2,
          "sizeY" : 2,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "40125ddf-8188-eb4c-afe4-281a39153f9c",
              "dataKeys" : [ {
                "name" : "dig2",
                "type" : "timeseries",
                "label" : "dig2",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.020907031027105893
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideQuickInterval" : false
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1748969318076,
                  "endTimeMs" : 1749055718076
                },
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideFixedInterval" : false,
                "hideQuickInterval" : false
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#FFFFFF",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "maxValue" : 1,
              "minValue" : 0,
              "donutStartAngle" : 90,
              "showValue" : false,
              "showMinMax" : true,
              "gaugeWidthScale" : 0.75,
              "levelColors" : [ "rgb(255, 0, 0)", "rgb(86, 255, 0)" ],
              "refreshAnimationType" : ">",
              "refreshAnimationTime" : 700,
              "startAnimationType" : ">",
              "startAnimationTime" : 700,
              "titleFont" : {
                "family" : "Roboto",
                "size" : 12,
                "style" : "normal",
                "weight" : "500",
                "color" : "#000000"
              },
              "labelFont" : {
                "family" : "Roboto",
                "size" : 8,
                "style" : "normal",
                "weight" : "500"
              },
              "valueFont" : {
                "family" : "Roboto",
                "style" : "normal",
                "weight" : "500",
                "size" : 32,
                "color" : "#000000"
              },
              "minMaxFont" : {
                "family" : "Segment7Standard",
                "size" : 12,
                "style" : "normal",
                "weight" : "500",
                "color" : null
              },
              "neonGlowBrightness" : 0,
              "dashThickness" : 0,
              "decimals" : 0,
              "gaugeColor" : "#FF0000",
              "gaugeType" : "arc",
              "showTitle" : true,
              "title" : "Digital Input 2",
              "barColor" : {
                "type" : "gradient",
                "color" : "#2196f3",
                "gradient" : {
                  "advancedMode" : false,
                  "gradient" : [ "rgb(255, 0, 0)", "rgb(86, 255, 0)" ],
                  "gradientAdvanced" : [ {
                    "source" : {
                      "type" : "constant"
                    },
                    "color" : "rgba(0, 255, 0, 1)"
                  }, {
                    "source" : {
                      "type" : "constant"
                    },
                    "color" : "rgba(255, 0, 0, 1)"
                  } ],
                  "minValue" : 0,
                  "maxValue" : 1
                },
                "rangeList" : {
                  "advancedMode" : false,
                  "range" : [ ],
                  "rangeAdvanced" : [ ]
                },
                "colorFunction" : "var temperature = value;\nif (typeof temperature !== undefined) {\n  var percent = (temperature + 60)/120 * 100;\n  return tinycolor.mix('blue', 'red', percent).toHexString();\n}\nreturn 'blue';"
              },
              "useFixedLevelColor" : false
            },
            "title" : "Simple gauge",
            "dropShadow" : true,
            "enableFullscreen" : false,
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "configMode" : "basic",
            "useDashboardTimewindow" : true,
            "displayTimewindow" : true,
            "actions" : { },
            "enableDataExport" : false,
            "borderRadius" : null,
            "units" : "",
            "decimals" : null
          },
          "row" : 0,
          "col" : 0,
          "id" : "668dc47b-81a7-b3d7-9334-5eb5ad5046bb"
        },
        "6c229744-f981-f7dc-ec5d-dbf25ae3fd2b" : {
          "typeFullFqn" : "system.cards.html_value_card",
          "type" : "latest",
          "sizeX" : 7.5,
          "sizeY" : 3,
          "config" : {
            "datasources" : [ {
              "type" : "entity",
              "name" : "",
              "entityAliasId" : "40125ddf-8188-eb4c-afe4-281a39153f9c",
              "dataKeys" : [ {
                "name" : "fans",
                "type" : "timeseries",
                "label" : "fans",
                "color" : "#2196f3",
                "settings" : { },
                "_hash" : 0.9687257463480133
              }, {
                "name" : "refr",
                "type" : "timeseries",
                "label" : "refr",
                "color" : "#4caf50",
                "settings" : { },
                "_hash" : 0.47812860714942707
              }, {
                "name" : "defr",
                "type" : "timeseries",
                "label" : "defr",
                "color" : "#f44336",
                "settings" : { },
                "_hash" : 0.9764640873199949
              } ],
              "alarmFilterConfig" : {
                "statusList" : [ "ACTIVE" ]
              }
            } ],
            "timewindow" : {
              "displayValue" : "",
              "selectedTab" : 0,
              "realtime" : {
                "realtimeType" : 1,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideQuickInterval" : false
              },
              "history" : {
                "historyType" : 0,
                "interval" : 1000,
                "timewindowMs" : 60000,
                "fixedTimewindow" : {
                  "startTimeMs" : 1752675495335,
                  "endTimeMs" : 1752761895335
                },
                "quickInterval" : "CURRENT_DAY",
                "hideInterval" : false,
                "hideLastInterval" : false,
                "hideFixedInterval" : false,
                "hideQuickInterval" : false
              },
              "aggregation" : {
                "type" : "AVG",
                "limit" : 25000
              }
            },
            "showTitle" : false,
            "backgroundColor" : "#fff",
            "color" : "rgba(0, 0, 0, 0.87)",
            "padding" : "0px",
            "settings" : {
              "cardHtml" : "<div class='status-panel'>\n    <div class='panel-header'>\n        <h1 class='panel-title'>System Status</h1>\n    </div>\n    \n    <div class='status-grid'>\n        \n        <div class='status-item' id='fans-item'>\n            <div class='status-indicator' id='fans-indicator'></div>\n            <div class='status-icon fans-icon'>\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M12 2C13.1 2 14 2.9 14 4C14 5.1 13.1 6 12 6C10.9 6 10 5.1 10 4C10 2.9 10.9 2 12 2ZM21 9V7L19 8L17 7V9C17 10.1 17.9 11 19 11S21 10.1 21 9ZM7 17V19L8 17L9 19V17C9 15.9 8.1 15 7 15S5 15.9 5 17H7ZM17.5 17.5L19.5 15.5L18.5 14.5L16.5 16.5C15.9 17.1 15.9 18.1 16.5 18.7S17.9 19.3 18.5 18.7L17.5 17.5ZM6.5 6.5L4.5 8.5L5.5 9.5L7.5 7.5C8.1 6.9 8.1 5.9 7.5 5.3S6.1 4.7 5.5 5.3L6.5 6.5ZM12 8C8.69 8 6 10.69 6 14S8.69 20 12 20 18 17.31 18 14 15.31 8 12 8ZM12 18C9.79 18 8 16.21 8 14S9.79 10 12 10 16 11.79 16 14 14.21 18 12 18Z\"/>\n                </svg>\n            </div>\n            <div class='status-label'>\n                <span class='label-text'>Fans</span>\n                <span class='status-text' id='fans-status'>OFF</span>\n            </div>\n        </div>\n        \n        <div class='status-item' id='refr-item'>\n            <div class='status-indicator' id='refr-indicator'></div>\n            <div class='status-icon refr-icon'>\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M12,15.5A3.5,3.5 0 0,1 8.5,12A3.5,3.5 0 0,1 12,8.5A3.5,3.5 0 0,1 15.5,12A3.5,3.5 0 0,1 12,15.5M19.43,12.97C19.47,12.65 19.5,12.33 19.5,12C19.5,11.67 19.47,11.34 19.43,11L21.54,9.37C21.73,9.22 21.78,8.95 21.66,8.73L19.66,5.27C19.54,5.05 19.27,4.96 19.05,5.05L16.56,6.05C16.04,5.66 15.5,5.32 14.87,5.07L14.5,2.42C14.46,2.18 14.25,2 14,2H10C9.75,2 9.54,2.18 9.5,2.42L9.13,5.07C8.5,5.32 7.96,5.66 7.44,6.05L4.95,5.05C4.73,4.96 4.46,5.05 4.34,5.27L2.34,8.73C2.22,8.95 2.27,9.22 2.46,9.37L4.57,11C4.53,11.34 4.5,11.67 4.5,12C4.5,12.33 4.53,12.65 4.57,12.97L2.46,14.63C2.27,14.78 2.22,15.05 2.34,15.27L4.34,18.73C4.46,18.95 4.73,19.03 4.95,18.95L7.44,17.94C7.96,18.34 8.5,18.68 9.13,18.93L9.5,21.58C9.54,21.82 9.75,22 10,22H14C14.25,22 14.46,21.82 14.5,21.58L14.87,18.93C15.5,18.68 16.04,18.34 16.56,17.94L19.05,18.95C19.27,19.03 19.54,18.95 19.66,18.73L21.66,15.27C21.78,15.05 21.73,14.78 21.54,14.63L19.43,12.97Z\"/>\n                </svg>\n            </div>\n            <div class='status-label'>\n                <span class='label-text'>Compressor</span>\n                <span class='status-text' id='refr-status'>OFF</span>\n            </div>\n        </div>\n\n        <div class='status-item' id='defr-item'>\n            <div class='status-indicator' id='defr-indicator'></div>\n            <div class='status-icon defr-icon'>\n                <svg width=\"24\" height=\"24\" viewBox=\"0 0 24 24\" fill=\"currentColor\">\n                    <path d=\"M11.5,6V8H17V10L21,7L17,4V6H11.5M12.5,18V16H7V14L3,17L7,20V18H12.5M17.09,10.5C17.21,11.17 17.21,11.83 17.09,12.5L18.61,13.74C18.76,13.85 18.8,14.05 18.71,14.21L17.31,16.79C17.22,16.95 17.02,17 16.86,16.95L15.1,16.26C14.73,16.55 14.33,16.78 13.89,16.95L13.64,18.83C13.61,19 13.46,19.12 13.28,19.12H10.72C10.54,19.12 10.39,19 10.36,18.83L10.11,16.95C9.67,16.78 9.27,16.55 8.9,16.26L7.14,16.95C6.98,17 6.78,16.95 6.69,16.79L5.29,14.21C5.2,14.05 5.24,13.85 5.39,13.74L6.91,12.5C6.79,11.83 6.79,11.17 6.91,10.5L5.39,9.26C5.24,9.15 5.2,8.95 5.29,8.79L6.69,6.21C6.78,6.05 6.98,6 7.14,6.05L8.9,6.74C9.27,6.45 9.67,6.22 10.11,6.05L10.36,4.17C10.39,4 10.54,3.88 10.72,3.88H13.28C13.46,3.88 13.61,4 13.64,4.17L13.89,6.05C14.33,6.22 14.73,6.45 15.1,6.74L16.86,6.05C17.02,6 17.22,6.05 17.31,6.21L18.71,8.79C18.8,8.95 18.76,9.15 18.61,9.26L17.09,10.5M12,8.5A3.5,3.5 0 0,0 8.5,12A3.5,3.5 0 0,0 12,15.5A3.5,3.5 0 0,0 15.5,12A3.5,3.5 0 0,0 12,8.5Z\"/>\n                </svg>\n            </div>\n            <div class='status-label'>\n                <span class='label-text'>Defrost</span>\n                <span class='status-text' id='defr-status'>OFF</span>\n            </div>\n        </div>\n        \n    </div>\n</div>\n\n<style>\n.status-panel {\n    width: 100%;\n    height: 100%;\n    background: #ffffff;\n    border-radius: 8px;\n    border: 1px solid #e5e7eb;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n}\n\n.panel-header {\n    padding: 20px 24px 16px;\n    border-bottom: 1px solid #f3f4f6;\n}\n\n.panel-title {\n    color: #111827;\n    font-size: 18px;\n    font-weight: 600;\n    margin: 0;\n    text-align: center;\n}\n\n.status-grid {\n    padding: 24px;\n    display: grid;\n    grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n    gap: 20px;\n}\n\n.status-item {\n    display: flex;\n    align-items: center;\n    padding: 16px 20px;\n    background: #f9fafb;\n    border: 1px solid #e5e7eb;\n    border-radius: 8px;\n    transition: all 0.2s ease;\n}\n\n.status-item.active {\n    background: #f0fdf4;\n    border-color: #22c55e;\n}\n\n.status-indicator {\n    width: 12px;\n    height: 12px;\n    border-radius: 50%;\n    background: #d1d5db;\n    margin-right: 16px;\n    transition: all 0.3s ease;\n    flex-shrink: 0;\n}\n\n.status-item.active .status-indicator {\n    background: #22c55e;\n    box-shadow: 0 0 8px rgba(34, 197, 94, 0.4);\n}\n\n.status-icon {\n    margin-right: 16px;\n    color: #374151;\n    flex-shrink: 0;\n}\n\n.status-label {\n    flex: 1;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n}\n\n.label-text {\n    font-size: 15px;\n    font-weight: 500;\n    color: #374151;\n}\n\n.status-text {\n    font-size: 13px;\n    font-weight: 600;\n    text-transform: uppercase;\n    letter-spacing: 0.5px;\n    color: #6b7280;\n    padding: 4px 8px;\n    border-radius: 4px;\n    background: #ffffff;\n    border: 1px solid #e5e7eb;\n}\n\n.status-item.active .status-text {\n    color: #166534;\n    background: #dcfce7;\n    border-color: #bbf7d0;\n}\n\n@media (max-width: 768px) {\n    .status-grid {\n        grid-template-columns: 1fr;\n        padding: 16px;\n    }\n    \n    .panel-header {\n        padding: 16px 20px 12px;\n    }\n}\n</style>\n\n<script>\nfunction updateStatus(itemId, indicatorId, statusId, value) {\n    var item = document.getElementById(itemId);\n    var indicator = document.getElementById(indicatorId);\n    var statusElement = document.getElementById(statusId);\n    \n    if (value == '1' || value == 1) {\n        item.classList.add('active');\n        statusElement.textContent = 'ON';\n    } else {\n        item.classList.remove('active');\n        statusElement.textContent = 'OFF';\n    }\n}\n\nvar fansValue = '${fans}';\nvar refrValue = '${refr}';  \nvar defrValue = '${defr}';\n\nupdateStatus('fans-item', 'fans-indicator', 'fans-status', fansValue);\nupdateStatus('refr-item', 'refr-indicator', 'refr-status', refrValue);\nupdateStatus('defr-item', 'defr-indicator', 'defr-status', defrValue);\n</script>",
              "cardCss" : "/* Variables */\n:root {\n  --bg: #ffffff;\n  --panel-bg: #f9fafb;\n  --border: #e5e7eb;\n  --text: #374151;\n  --muted: #6b7280;\n  --accent: #22c55e;\n}\n\n/* Container */\n.status-panel {\n  width: 100%;\n  background: var(--bg);\n  border: 1px solid var(--border);\n  border-radius: 8px;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;\n}\n\n/* Header */\n.panel-header {\n  padding: 20px 24px 16px;\n  border-bottom: 1px solid #f3f4f6;\n}\n.panel-title {\n  font-size: 18px;\n  font-weight: 600;\n  margin: 0;\n  text-align: center;\n  color: #111827;\n}\n\n/* Grid */\n.status-grid {\n  display: grid;\n  grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));\n  gap: 20px;\n  padding: 24px;\n}\n\n/* Item */\n.status-item {\n  display: flex;\n  align-items: center;\n  gap: 16px;\n  padding: 16px 20px;\n  background: var(--panel-bg);\n  border: 1px solid var(--border);\n  border-radius: 8px;\n  transition: background 0.2s, border-color 0.2s;\n}\n.status-item.active {\n  background: #f0fdf4;\n  border-color: var(--accent);\n}\n\n/* Indicator */\n.status-indicator {\n  width: 12px;\n  height: 12px;\n  border-radius: 50%;\n  background: #d1d5db;\n  transition: background 0.3s, box-shadow 0.3s;\n}\n.status-item.active .status-indicator {\n  background: var(--accent);\n  box-shadow: 0 0 8px rgba(34, 197, 94, 0.4);\n}\n\n/* Icon */\n.status-icon {\n  color: var(--text);\n  font-size: 48px;\n  flex-shrink: 0;\n  transition: color 0.2s;\n}\n.status-item.active .status-icon {\n  color: var(--accent);\n}\n\n/* Label & status */\n.status-label {\n  flex: 1;\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n.label-text {\n  font-size: 15px;\n  font-weight: 500;\n  color: var(--text);\n}\n.status-text {\n  font-size: 13px;\n  font-weight: 600;\n  text-transform: uppercase;\n  letter-spacing: 0.5px;\n  color: var(--muted);\n  padding: 4px 8px;\n  background: var(--bg);\n  border: 1px solid var(--border);\n  border-radius: 4px;\n  transition: color 0.2s, background 0.2s, border-color 0.2s;\n}\n.status-item.active .status-text {\n  color: #166534;\n  background: #dcfce7;\n  border-color: #bbf7d0;\n}\n\n/* Responsive */\n@media (max-width: 768px) {\n  .status-grid {\n    grid-template-columns: 1fr;\n    padding: 16px;\n  }\n  .panel-header {\n    padding: 16px 20px 12px;\n  }\n}\n"
            },
            "title" : "HTML Value Card",
            "dropShadow" : false,
            "enableFullscreen" : false,
            "widgetStyle" : { },
            "titleStyle" : {
              "fontSize" : "16px",
              "fontWeight" : 400
            },
            "useDashboardTimewindow" : true,
            "showLegend" : false,
            "actions" : {
              "headerButton" : [ ]
            },
            "displayTimewindow" : true,
            "enableDataExport" : false,
            "widgetCss" : "",
            "pageSize" : 1024,
            "noDataDisplayMessage" : ""
          },
          "row" : 0,
          "col" : 0,
          "id" : "6c229744-f981-f7dc-ec5d-dbf25ae3fd2b"
        }
      },
      "states" : {
        "default" : {
          "name" : "Device Detail View 2",
          "root" : true,
          "layouts" : {
            "main" : {
              "widgets" : {
                "df13f681-83af-9bdb-d282-2ae1f18f9b30" : {
                  "sizeX" : 8,
                  "sizeY" : 4,
                  "row" : 0,
                  "col" : 0
                },
                "5ba834fa-bf73-6a53-e5bf-9e2d807032ee" : {
                  "sizeX" : 8,
                  "sizeY" : 4,
                  "row" : 0,
                  "col" : 8
                },
                "1448aa61-6ec9-3ea8-fd74-ae5900bcede2" : {
                  "sizeX" : 8,
                  "sizeY" : 1,
                  "preserveAspectRatio" : false,
                  "resizable" : true,
                  "row" : 0,
                  "col" : 16
                },
                "da9c1136-2350-9eb5-6ebb-0f9a74f97937" : {
                  "sizeX" : 8,
                  "sizeY" : 7,
                  "preserveAspectRatio" : true,
                  "resizable" : true,
                  "row" : 1,
                  "col" : 16
                },
                "7c443b70-383d-fd1a-c90d-0edbcac88472" : {
                  "sizeX" : 8,
                  "sizeY" : 4,
                  "row" : 8,
                  "col" : 8
                },
                "668dc47b-81a7-b3d7-9334-5eb5ad5046bb" : {
                  "sizeX" : 8,
                  "sizeY" : 4,
                  "row" : 8,
                  "col" : 16
                },
                "6c229744-f981-f7dc-ec5d-dbf25ae3fd2b" : {
                  "sizeX" : 14.857142857142856,
                  "sizeY" : 13,
                  "preserveAspectRatio" : true,
                  "resizable" : true,
                  "row" : 12,
                  "col" : 0
                }
              },
              "gridSettings" : {
                "layoutType" : "default",
                "backgroundColor" : "#eeeeee",
                "columns" : 24,
                "margin" : 10,
                "outerMargin" : true,
                "backgroundSizeMode" : "100%"
              }
            }
          }
        }
      },
      "entityAliases" : {
        "40125ddf-8188-eb4c-afe4-281a39153f9c" : {
          "id" : "40125ddf-8188-eb4c-afe4-281a39153f9c",
          "alias" : "Selected Device",
          "filter" : {
            "type" : "stateEntity",
            "resolveMultiple" : false,
            "stateEntityParamName" : "entityId",
            "defaultStateEntity" : {
              "entityType" : "DEVICE",
              "id" : "fec65880-6276-11f0-be4a-775fee303094"
            }
          }
        }
      },
      "filters" : { },
      "timewindow" : {
        "displayValue" : "",
        "hideAggregation" : false,
        "hideAggInterval" : false,
        "hideTimezone" : false,
        "selectedTab" : 0,
        "realtime" : {
          "realtimeType" : 0,
          "interval" : 1000,
          "timewindowMs" : 60000,
          "quickInterval" : "CURRENT_DAY",
          "hideInterval" : false,
          "hideLastInterval" : false,
          "hideQuickInterval" : false
        },
        "history" : {
          "historyType" : 0,
          "interval" : 1000,
          "timewindowMs" : 60000,
          "fixedTimewindow" : {
            "startTimeMs" : 1752683153887,
            "endTimeMs" : 1752769553887
          },
          "quickInterval" : "CURRENT_DAY",
          "hideInterval" : false,
          "hideLastInterval" : false,
          "hideFixedInterval" : false,
          "hideQuickInterval" : false
        },
        "aggregation" : {
          "type" : "AVG",
          "limit" : 25000
        }
      },
      "settings" : {
        "stateControllerId" : "entity",
        "showTitle" : false,
        "showDashboardsSelect" : true,
        "showEntitiesSelect" : true,
        "showDashboardTimewindow" : true,
        "showDashboardExport" : true,
        "toolbarAlwaysOpen" : true
      }
    },
    "name" : "Device Detail View",
    "resources" : null,
    "assignedCustomers" : null,
    "customerId" : null,
    "externalId" : null,
    "id" : {
      "entityType" : "DASHBOARD",
      "id" : "737b6bd0-632a-11f0-9d02-c191323b4da2"
    },
    "ownerId" : null
  },
  "relations" : [ ],
  "attributes" : {
    "SERVER_SCOPE" : [ ]
  },
  "calculatedFields" : [ ]
}